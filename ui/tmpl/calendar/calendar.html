{{template "base" .}}
{{define "main"}}

<div class="content">
    <div id='calendar'></div>
</div>

<script src="/assets/js/jquery-3.3.1.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src='/assets/fullcalendar/packages/core/main.js'></script>
<script src='/assets/fullcalendar/packages/interaction/main.js'></script>
<script src='/assets/fullcalendar/packages/daygrid/main.js'></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: ['interaction', 'dayGrid'],
            defaultDate: '{{.Data.CurrenDate}}',
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            events:
                [
                    {{ range .Data.Events.Events }}
                    {
                title: '{{.Title }}',
                start: '{{.Start}}',
                end: '{{.End}}'
            },
            {{ end }}
                ]
    });

    calendar.render();
    });

</script>
<script src="/assets/js/main.js"></script>
{{end}}